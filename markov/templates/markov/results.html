<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Analysis Tool</title>

    {% load staticfiles %}

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" type="text/css" href="{% static 'home/css/bootstrap.min.css' %}" />

    <!-- Custom CSS -->
    <link rel="stylesheet" type="text/css" href="{% static 'home/css/grayscale.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'home/css/style.css' %}" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>

    <!-- Custom Fonts -->
    <link href="{% static 'home/font-awesome/css/font-awesome.min.css' %}" rel="stylesheet" type="text/css">

    <link href="http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js" ></script>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">

        // Load the Visualization API and the piechart package.
        google.load('visualization', '1.0', {packages:['corechart']});
        google.load('visualization', '1', {packages: ['corechart', 'bar']});
        google.load('visualization', '1.1',{packages: ['line']});

        // Set a callback to run when the Google Visualization API is loaded.
        google.setOnLoadCallback(drawChart);

        // Callback that creates and populates a data table,
        // instantiates the pie chart, passes in the data and
        // draws it.
        function drawChart() {

            // create Data
            // var djangoData1 = {{ array|safe }};
            // var data1 = google.visualization.arrayToDataTable(djangoData1);

            // var djangoData2 = {{ array1|safe }};
            // var data2 = google.visualization.arrayToDataTable(djangoData2);

            var djangoData3_1 = {{ deathHBV1|safe }};
            var data3_1 = google.visualization.arrayToDataTable(djangoData3_1);
            var djangoData3_2 = {{ deathHBV2|safe }};
            var data3_2 = google.visualization.arrayToDataTable(djangoData3_2);
            var joinedData3 = google.visualization.data.join(data3_1, data3_2, 'full', [[0, 0]], [1, 2], [1, 2]);


            var djangoData4_1 = {{ cirrhosis1|safe }};
            var data4_1 = google.visualization.arrayToDataTable(djangoData4_1);
            var djangoData4_2 = {{ cirrhosis2|safe }};
            var data4_2 = google.visualization.arrayToDataTable(djangoData4_2);
            var joinedData4 = google.visualization.data.join(data4_1, data4_2, 'full', [[0, 0]], [1, 2], [1, 2]);


            var djangoData5_1 = {{ hcc1|safe }};
            var data5_1 = google.visualization.arrayToDataTable(djangoData5_1);
            var djangoData5_2 = {{ hcc2|safe }};
            var data5_2 = google.visualization.arrayToDataTable(djangoData5_2);
            var joinedData5 = google.visualization.data.join(data5_1, data5_2, 'full', [[0, 0]], [1, 2], [1, 2]);


            var djangoData6_1 = {{ lt1|safe }};
            var data6_1 = google.visualization.arrayToDataTable(djangoData6_1);
            var djangoData6_2 = {{ lt2|safe }};
            var data6_2 = google.visualization.arrayToDataTable(djangoData6_2);
            var joinedData6 = google.visualization.data.join(data6_1, data6_2, 'full', [[0, 0]], [1, 2], [1, 2]);

            // Set chart options
            // var options1 = {'title':'End States of Markov Model',
            //              'titleTextStyle': { color: 'black'},
            //              'is3D':true,
            //              sliceVisibilityThreshold: .05,
            //              'width':800,
            //              'height':600,
            //              backgroundColor:'white',
            //              legend: {textStyle: {color: 'black', fontSize: 12}}
            //              };

            // var options2 = {
            //     'width':800,
            //     'height':600,
            //     backgroundColor: 'black',
            //     colors: ['#ff7f50', '#49b7a8'],
            //     backgroundColor: 'white',
            //     dataOpacity: 0.75,
            //     title: 'Select States Cumulative Results',
            //     titleTextStyle: {color:'black', fontSize: '22', fontName: 'Raleway'},
            //     legend:{
            //         position: 'right',
            //         textStyle: {color: 'black', fontSize: 16},
            //     },
            //     vAxis: {
            //             title: 'People',
            //             titleTextStyle: {
            //                 color: 'white',
            //             },
            //             textStyle: {color: 'white'},
            //             title: 'Probabilities',
            //             titleTextStyle: {color: 'black'},
            //             textStyle: {color: 'black'},
            //             baselineColor: '#CCC',
            //             gridlines: {color: '#CCC'},
            //             logScale: false,
            //             format: 'short',
            //             },
            //     hAxis:{
            //             title: 'States',
            //             slantedText: true,
            //             titleTextStyle: {color: 'black'},
            //             textStyle: {color: 'black'},
            //     }

            // };

            var options3 = {
                title: "Death HBV",
                titleTextStyle :{
                    fontSize:26,
                    fontName:'Raleway',
                },
                // colors: ['#ff7f50', '#49B7A8'],
                width: 475,
                height: 475,
                vAxis: {
                    title:'Percentage (%)',
                },
                hAxis:{
                    title:'Year',
                },
                legend:{
                    position:'top',
                    maxLines: 2,
                }
            };

            var options4 = {
                title: "Cirrhosis",
                titleTextStyle :{
                    fontSize:26,
                    fontName:'Raleway',
                },
                // colors: ['#ff7f50', '#49B7A8'],
                width: 475,
                height: 475,
                vAxis: {
                    title:'Percentage (%)',
                },
                hAxis:{
                    title:'Year',
                },
                legend:{
                    position:'top',
                    maxLines: 2,
                }
            };

            var options5 = {
                title: "HCC",
                titleTextStyle :{
                    fontSize:26,
                    fontName:'Raleway',
                },
                // colors: ['#ff7f50', '#49B7A8'],
                width: 475,
                height: 475,
                vAxis: {
                    title:'Percentage (%)',
                },
                hAxis:{
                    title:'Year',
                },
                legend:{
                    position:'top',
                    maxLines: 2,
                }
            };

            var options6 = {
                title: "Liver Transplantation",
                titleTextStyle :{
                    fontSize:26,
                    fontName:'Raleway',
                },
                // colors: ['#ff7f50', '#49B7A8'],
                width: 475,
                height: 475,
                vAxis: {
                    title:'Percentage (%)',
                },
                hAxis:{
                    title:'Year',
                },
                legend:{
                    position:'top',
                    maxLines: 2,
                }
            };

            // var chart1 = new google.visualization.PieChart(document.getElementById('pie_chart_div'));
            // chart1.draw(data1, options1);

            // var chart2 = new google.visualization.ColumnChart(document.getElementById('chart_div'));
            // chart2.draw(data2, options2);

            var chart3 = new google.visualization.LineChart(document.getElementById('linechart1'));
            chart3.draw(joinedData3, options3);

            var chart4 = new google.visualization.LineChart(document.getElementById('linechart2'));
            chart4.draw(joinedData4, options4);

            var chart5 = new google.visualization.LineChart(document.getElementById('linechart3'));
            chart5.draw(joinedData5, options5);

            var chart6 = new google.visualization.LineChart(document.getElementById('linechart4'));
            chart6.draw(joinedData6, options6);
        }
            // var chart = new google.visualization.LineChart(document.querySelector('#linechart1'));
            //     chart.draw(joinedData3, {
            //         height: 300,
            //         width: 600,
            //         interpolateNulls: true
            //     });
            // }
            // google.load('visualization', '1', {packages:['corechart'], callback: drawChart});

    </script>

</head>


<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top">

    <!-- Navigation -->
    <nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
                    <i class="fa fa-bars"></i>
                </button>
                <a class="navbar-brand page-scroll" href="../../">
                    <i class="fa fa-play-circle"></i>  <span class="light">Home</span>
                </a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse navbar-right navbar-main-collapse">
                <ul class="nav navbar-nav">
                    <!-- Hidden li included to remove active class from about link when scrolled up past about section -->
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#Result">Results</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#Contact">Contact</a>
                    </li>

                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Intro Header -->
    <header class="intro">
        <div class="intro-body">
            <div class="container">
                <div class="row" style="margin-top: 0;">
                    <div class="col-md-8 col-md-offset-2">
                        <h1 class="brand-heading" style="color: #fff; text-transform: none; font-size:130px;">Results</h1>
                        <p class="intro-text" style="color: #000; font-family:'Lobster', cursive; letter-spacing: 2px; ">Treated and Untreated Survival Rates of Patients</p>
                        <a href="#Result" class="page-scroll">
                            <i class="fa fa-angle-double-down animated" id="arrow"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- About Section -->
    <section id="Result" class="container content-section text-center">
        <div class="row" style="margin:0">
            <div class="col-lg-8 col-lg-offset-2">
                <h2>Your Responses</h2>
                <div id="user-input">
                    <p>{{inputStr}}</p>
                </div>
<!--                 <div id="pie_chart_div"></div>
-->                <div id="chart_div" style= "width:750; height:750"></div>
            </div>

            <div class="graph-row">
                <div id="linechart1"></div>
                <div id="linechart2"></div>
            </div>
            <div class="graph-row">
                <div id="linechart3"></div>
                <div id="linechart4"></div>
            </div>
        </div>
    </section>

    <section id="Contact" class="container content-section text-center">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2">
                <h2>Contact The Asian Liver Center</h2>
                <p>Feel free to <a href="mailto:research.cs.alc@gmail.com" target="_blank">email</a> us to provide some feedback!</p>
                <ul class="list-inline banner-social-buttons">
                    <li>
                        <a href="https://twitter.com/asianliverctr" class="btn btn-default btn-lg"><i class="fa fa-twitter fa-fw"></i> <span class="network-name">Twitter</span></a>
                    </li>
                    <li>
                        <a href="https://github.com/colphin/Analysis_Tool" class="btn btn-default btn-lg"><i class="fa fa-github fa-fw"></i> <span class="network-name">Github</span></a>
                    </li>
                   <li>
                        <a href="https://plus.google.com/+Startbootstrap/posts" class="btn btn-default btn-lg"><i class="fa fa-google-plus fa-fw"></i> <span class="network-name">Google+</span></a>
                    </li>
                </ul>
                <ul class="list-inline banner-social-buttons" style="padding-top: 75px;">

                    <li>
                        <a href="http://liver.stanford.edu/jrc/index.html" class="link">
                        <span class="glyphicon glyphicon glyphicon-globe" aria-hidden="true" style="display:block; font-size: 50px; padding-bottom: 10px; color:black;"></span>
                            Join the campaign
                        </a>
                    </li>
                </ul>

                <h3 style="padding-top: 120px;">Want to help out or get to know us better?</h3>
                <p>Read about or reach out to the team <a href="/#team">here</a>.</p>
            </div>
        </div>
    </section>

    <footer>
        <div class="container text-center">
            <p>Copyright &copy; <a href="http://liver.stanford.edu/" target="_blank">Asian Liver Center 2015</a></p>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="{% static 'home/js/jquery.js' %}"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="{% static 'home/js/bootstrap.min.js' %}"></script>

    <!-- Plugin JavaScript -->
    <script src="{% static 'home/js/jquery.easing.min.js' %}"></script>

    <!-- Google Maps API Key - Use your own API key to enable the map feature. More information on the Google Maps API can be found at https://developers.google.com/maps/ -->
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCWgoJVJgzqUcbnYRL1CIfZglQN8rlMUs8&sensor=false"></script>

    <!-- Custom Theme JavaScript -->
    <script src="{% static 'home/js/grayscale.js' %}"></script>

</body>

</html>